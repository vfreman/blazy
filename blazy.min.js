/*!
  hey, [be]Lazy.js - v1.8.2 - 2016.10.25
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
  !function(t,o){"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o():t.Blazy=o()}(this,function(){"use strict";function t(t){var n=t._util;n.elements=h(t.options),n.count=n.elements.length,n.destroyed&&(n.destroyed=!1,t.options.container&&b(t.options.container,function(t){g(t,"scroll",n.validateT)}),g(window,"resize",n.saveViewportOffsetT),g(window,"resize",n.cacheEltsBoundingRectT),g(window,"resize",n.validateT),g(window,"scroll",n.validateT)),e(t),o(t)}function o(t){for(var o=null!=t.options.scrollTopFix?t.options.scrollTopFix:t.options.scrollContainer.scrollTop,e=t._util,n=0;n<e.count;n++){var s=e.elements[n];(i(s,t.options,o)||v(s,t.options.successClass))&&(t.load(s),e.elements.splice(n,1),e.count--,n--)}0===e.count&&t.destroy()}function e(t){for(var o=t._util,e=t.options.scrollContainer.scrollTop,i=0;i<o.count;i++){var s=o.elements[i];if(s.rect=n(s,e),t.options.container&&R){var r=s.closest(t.options.containerClass);r&&(s.containerRect=n(r,e))}}}function n(t,o){null==o&&(o=0);var e=t.getBoundingClientRect();return{top:e.top+o,right:e.right,bottom:e.bottom+o,left:e.left}}function i(t,o,e){if(null==e&&(e=0),o.container&&R&&t.closest(o.containerClass)){if(s(t.containerRect,E,e)){var n=t.containerRect.top-o.offset,i=t.containerRect.right+o.offset,r=t.containerRect.bottom+o.offset,c=t.containerRect.left-o.offset,l={top:n-e>E.top?n-e:E.top,right:i<E.right?i:E.right,bottom:r-e<E.bottom?r-e:E.bottom,left:c>E.left?c:E.left};return s(t.rect,l,e)}return!1}return s(t.rect,E,e)}function s(t,o,e){return t.right>=o.left&&t.bottom-e>=o.top&&t.left<=o.right&&t.top-e<=o.bottom}function r(t,o,e){if(!v(t,e.successClass)&&(o||e.loadInvisible||t.offsetWidth>0&&t.offsetHeight>0)){var n=f(t,C)||f(t,e.src);if(n){var i=n.split(e.separator),s=i[z&&i.length>1?1:0],r=f(t,e.srcset),u=d(t,"img"),p=t.parentNode,h=p&&d(p,"picture");if(u||void 0===t.src){var w=new Image,T=function(){e.error&&e.error(t,"invalid"),m(t,e.errorClass),y(w,"error",T),y(w,"load",E)},E=function(){u?h||a(t,s,r):t.style.backgroundImage='url("'+s+'")',c(t,e),y(w,"load",E),y(w,"error",T)};h&&(w=t,b(p.getElementsByTagName("source"),function(t){l(t,O,e.srcset)})),g(w,"error",T),g(w,"load",E),a(w,s,r)}else t.src=s,c(t,e)}else d(t,"video")?(b(t.getElementsByTagName("source"),function(t){l(t,D,e.src)}),t.load(),c(t,e)):(e.error&&e.error(t,"missing"),m(t,e.errorClass))}}function c(t,o){m(t,o.successClass),o.success&&o.success(t),p(t,o.src),p(t,o.srcset),b(o.breakpoints,function(o){p(t,o.src)})}function l(t,o,e){var n=f(t,e);n&&(u(t,o,n),p(t,e))}function a(t,o,e){e&&u(t,O,e),t.src=o}function u(t,o,e){t.setAttribute(o,e)}function f(t,o){return t.getAttribute(o)}function p(t,o){t.removeAttribute(o)}function d(t,o){return t.nodeName.toLowerCase()===o}function v(t,o){return-1!==(" "+t.className+" ").indexOf(" "+o+" ")}function m(t,o){v(t,o)||(t.className+=" "+o)}function h(t){for(var o=[],e=t.root.querySelectorAll(t.selector),n=e.length;n--;o.unshift(e[n]));return o}function w(t){E.bottom=(window.innerHeight||document.documentElement.clientHeight)+t,E.right=(window.innerWidth||document.documentElement.clientWidth)+t}function g(t,o,e){t.attachEvent?t.attachEvent&&t.attachEvent("on"+o,e):t.addEventListener(o,e,{capture:!1,passive:!0})}function y(t,o,e){t.detachEvent?t.detachEvent&&t.detachEvent("on"+o,e):t.removeEventListener(o,e,{capture:!1,passive:!0})}function b(t,o){if(t&&o)for(var e=t.length,n=0;n<e&&!1!==o(t[n],n);n++);}function T(t,o,e){var n=0;return function(){var i=+new Date;i-n<o||(n=i,t.apply(e,arguments))}}var C,E,z,R,D="src",O="srcset";return function(n){if(!document.querySelectorAll){var i=document.createStyleSheet();document.querySelectorAll=function(t,o,e,n,s){for(s=document.all,o=[],e=(t=t.replace(/\[for\b/gi,"[htmlFor").split(",")).length;e--;){for(i.addRule(t[e],"k:v"),n=s.length;n--;)s[n].currentStyle.k&&o.push(s[n]);i.removeRule(0)}return o}}var s=function(){var t=document.createElement("div");t.style.width="100vw",t.style.height="201vh",document.body.appendChild(t),document.documentElement.scrollTop=100;var o=0===document.documentElement.scrollTop;return document.body.removeChild(t),document.documentElement.scrollTop=0,o},c=this,l=c._util={};l.elements=[],l.destroyed=!0,c.options=n||{},c.options.error=c.options.error||!1,c.options.offset=c.options.offset||100,c.options.root=c.options.root||document,c.options.success=c.options.success||!1,c.options.selector=c.options.selector||".b-lazy",c.options.separator=c.options.separator||"|",c.options.containerClass=c.options.container,c.options.container=!!c.options.containerClass&&document.querySelectorAll(c.options.containerClass),c.options.errorClass=c.options.errorClass||"b-error",c.options.breakpoints=c.options.breakpoints||!1,c.options.loadInvisible=c.options.loadInvisible||!1,c.options.successClass=c.options.successClass||"b-loaded",c.options.validateDelay=c.options.validateDelay||25,c.options.saveViewportOffsetDelay=c.options.saveViewportOffsetDelay||50,c.options.initializeDelay=c.options.initializeDelay||25,c.options.srcset=c.options.srcset||"data-srcset",c.options.src=C=c.options.src||"data-src",c.options.scrollContainer=c.options.scrollContainer||null,c.options.scrollTopFix=null,R=Element.prototype.closest,z=window.devicePixelRatio>1,(E={}).top=0-c.options.offset,E.left=0-c.options.offset,c.revalidate=function(){l.initializeT(c)},c.load=function(t,o){var e=this.options;t&&void 0===t.length?r(t,o,e):b(t,function(t){r(t,o,e)})},c.destroy=function(){var t=c._util;c.options.container&&b(c.options.container,function(o){y(o,"scroll",t.validateT)}),y(window,"scroll",t.validateT),y(window,"resize",t.validateT),y(window,"resize",t.saveViewportOffsetT),y(window,"resize",t.cacheEltsBoundingRectT),t.count=0,t.elements.length=0,t.destroyed=!0},l.initializeT=T(function(){t(c)},c.options.initializeDelay,c),l.validateT=T(function(){o(c)},c.options.validateDelay,c),l.saveViewportOffsetT=T(function(){w(c.options.offset)},c.options.saveViewportOffsetDelay,c),l.cacheEltsBoundingRectT=T(function(){e(c)},c.options.saveViewportOffsetDelay,c),w(c.options.offset),b(c.options.breakpoints,function(t){if(t.width>=window.screen.width)return C=t.src,!1}),setTimeout(function(){null==c.options.scrollContainer&&(c.options.scrollContainer=s()?document.body:document.documentElement),t(c)})}});